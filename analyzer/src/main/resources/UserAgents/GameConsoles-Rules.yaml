#
# Yet Another UserAgent Analyzer
# Copyright (C) 2013-2018 Niels Basjes
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an AS IS BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
config:

- matcher:
    extract:
    - 'DeviceClass                         :   2014 :"Game Console"'
    - 'DeviceBrand                         :   2014 :"Nintendo"'
    - 'DeviceName                          :   2014 :agent.(1)product.(1)comments.(1)entry.text[1]="Nintendo"@'
    - 'OperatingSystemClass                :    100 :"Game Console"'
    - 'OperatingSystemName                 :    100 :"Nintendo"'
    - 'OperatingSystemVersion              :    100 :agent.(1)product.(1)comments.(1)entry.text[1]="Nintendo"@'

- matcher:
    extract:
    - 'OperatingSystemClass                :   2014 :"Game Console"'
    - 'OperatingSystemName                 :   2014 :"Nintendo NX"'
    - 'OperatingSystemVersion              :   2014 :agent.(3)product.(1)name="NX"^.version'

- matcher:
    extract:
    - 'AgentClass                          :   2014 :"Browser"'
    - 'AgentName                           :   2014 :"NintendoBrowser"'
    - 'AgentVersion                        :   2014 :agent.(4)product.(1)name="NintendoBrowser"^.version'

- matcher:
    extract:
    - 'DeviceClass                         :   2014 :"Game Console"'
    - 'DeviceBrand                         :   2014 :"Sony"'
    - 'DeviceName                          :   2014 :"PlayStation 4"'
    - 'OperatingSystemClass                :   2014 :"Game Console"'
    - 'OperatingSystemName                 :   2014 :"PlayStation 4"'
    - 'OperatingSystemVersion              :   2014 :agent.(1)product.(1)comments.entry.product.name[1]="PlayStation"^.(2)version'

- matcher:
    extract:
    - 'DeviceClass                         :   2014 :"Game Console"'
    - 'DeviceBrand                         :   2014 :"Sony"'
    - 'DeviceName                          :   2014 :"PlayStation Vita"'
    - 'DeviceVersion                       :   2014 :agent.(1)product.(1)comments.entry.product.name="PlayStation Vita"^.version'
    - 'OperatingSystemClass                :   2014 :"Game Console"'
    - 'OperatingSystemName                 :   2014 :"PlayStation Vita"'
    - 'OperatingSystemVersion              :   2014 :agent.(1)product.(1)comments.entry.product.name="PlayStation Vita"^.version'

# https://www.nintendo.com/3ds/internetbrowser/specs/
# https://www.3dbrew.org/wiki/Internet_Browser
- matcher:
    extract:
    - 'DeviceClass                         :   2014 :"Game Console"'
    - 'DeviceBrand                         :   2014 :"Nintendo"'
    - 'DeviceName                          :   2014 :agent.(1)product.(1)comments.entry.product.name[1]="Nintendo"^'
    - 'OperatingSystemClass                :   2014 :"Game Console"'
    - 'OperatingSystemName                 :   2014 :"Nintendo"'
    - 'OperatingSystemVersion              :   2014 :agent.(1)product.(1)comments.entry.product.name[1]="Nintendo"^'
    - 'LayoutEngineClass                   :   2014 :"Browser"'
    - 'LayoutEngineName                    :   2014 :"Netfront"'
    - 'LayoutEngineVersion                 :   2014 :agent.product.(1)name="Version"^.version'
    - 'AgentClass                          :   2014 :"Browser"'
    - 'AgentName                           :   2014 :"Netfront"'
    - 'AgentVersion                        :   2014 :agent.product.(1)name="Version"^.version'

- matcher:
    extract:
    - 'DeviceClass                         :   2014 :"Game Console"'
    - 'DeviceBrand                         :   2014 :"Nintendo"'
    - 'DeviceName                          :   2014 :agent.(1)product.(1)comments.entry.text[1]="Nintendo"@'
    - 'OperatingSystemClass                :   2014 :"Game Console"'
    - 'OperatingSystemName                 :   2014 :"Nintendo"'
    - 'OperatingSystemVersion              :   2014 :agent.(1)product.(1)comments.entry.text[1]="Nintendo"@'
    - 'LayoutEngineClass                   :   2014 :"Browser"'
    - 'LayoutEngineName                    :   2014 :"Netfront"'
    - 'LayoutEngineVersion                 :   2014 :agent.product.(1)name="Version"^.version'
    - 'AgentClass                          :   2014 :"Browser"'
    - 'AgentName                           :   2014 :"Netfront"'
    - 'AgentVersion                        :   2014 :agent.product.(1)name="Version"^.version'

- matcher:
    require:
    - 'agent.(1)product.(1)comments.entry.text="Xbox"'
    extract:
    - 'DeviceClass                         :   2010 :"Game Console"'
    - 'DeviceBrand                         :   2010 :"Microsoft"'
    - 'DeviceName                          :   2010 :"Xbox"'
    - 'DeviceVersion                       :   2010 :"Xbox 360"'
    - 'OperatingSystemClass                :    101 :"Game Console"'
    - 'OperatingSystemName                 :     98 :"Xbox"'
    - 'OperatingSystemVersion              :     98 :"Xbox 360"'
    - 'OperatingSystemNameVersion          :     98 :"Xbox 360"'

- matcher:
    extract:
    - 'DeviceClass                         :   2014 :"Game Console"'
    - 'DeviceBrand                         :   2014 :"Microsoft"'
    - 'DeviceName                          :   2014 :"Xbox"'
    - 'DeviceVersion                       :   2014 :agent.(1)product.(1)comments.entry.text="Xbox"^>'
    - 'OperatingSystemClass                :    101 :"Game Console"'
    - 'OperatingSystemName                 :     99 :"Xbox"'
    - 'OperatingSystemVersion              :     99 :agent.(1)product.(1)comments.entry.text="Xbox"^>'
    - 'OperatingSystemNameVersion          :     99 :agent.(1)product.(1)comments.entry.text="Xbox"^>'

- matcher:
    require:
    - 'agent.(1)product.(1)comments.entry[1-2]="Nintendo 3DS"'
    extract:
    - 'DeviceClass                         :   2100 :"Handheld Game Console"'

- matcher:
    require:
    - 'agent.(1)product.(1)comments.(1)entry="New Nintendo 3DS like iPhone"'
    extract:
    - 'DeviceClass                         :   2014 :"Handheld Game Console"'
    - 'DeviceBrand                         :   2014 :"Nintendo"'
    - 'DeviceName                          :   2014 :"Nintendo New 3DS"'

- matcher:
    require:
    - 'agent.(4)product.(1)name="Mobile NintendoBrowser"'
    extract:
    - 'AgentClass                          :     40 :"Browser"'
    - 'AgentName                           :     40 :"NintendoBrowser"'
    - 'AgentVersion                        :     40 :agent.(4)product.(1)name="Mobile NintendoBrowser"^.version'

- matcher:
    require:
    - 'agent.(1)product.(1)comments.(1)entry.(1)product.(1)name="PSP"'
    - 'agent.(1)product.(1)comments.(1)entry.(1)product.(1)comments.(1)entry.(1)text="PlayStation Portable"'
    extract:
    - 'DeviceClass                         :    500 :"Handheld Game Console"'
    - 'DeviceBrand                         :    500 :"Sony"'
    - 'DeviceName                          :    500 :"PlayStation Portable"'

